<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MinIO Image Hosting | Di's Knowledge Base</title>
    <meta name="description" content="Personal Technical Knowledge Base, recording and sharing personal fragmented, structured, and systematic technical knowledge content">
    <meta name="generator" content="VitePress v1.0.0-rc.31">
    <link rel="preload stylesheet" href="/vuepress-blog/assets/style.Osn-ZmSV.css" as="style">
    
    <script type="module" src="/vuepress-blog/assets/app.0EPROAL8.js"></script>
    <link rel="preload" href="/vuepress-blog/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vuepress-blog/assets/chunks/framework.lWSK3XUC.js">
    <link rel="modulepreload" href="/vuepress-blog/assets/chunks/theme.46Xt7fJM.js">
    <link rel="modulepreload" href="/vuepress-blog/assets/chunks/md5.US-HucPO.js">
    <link rel="modulepreload" href="/vuepress-blog/assets/chunks/use-popup-manager.viYvKb_Z.js">
    <link rel="modulepreload" href="/vuepress-blog/assets/chunks/ArticleMetadata.41rSz6Gb.js">
    <link rel="modulepreload" href="/vuepress-blog/assets/categories_backend_2023_06_27_MinIO_setup.md.2izaNpQ5.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="author" content="Charles7c">
    <meta name="keywords" content="查尔斯的知识库, 知识库, 博客, Charles7c">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="theme-color" content="#3c8772">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:title" content="Di&#39;s Knowledge Base">
    <meta property="og:description" content="Personal Technical Knowledge Base, recording and sharing personal fragmented, structured, and systematic technical knowledge content">
    <meta property="og:site" content="https://blog.charles7c.top">
    <meta property="og:site_name" content="Di&#39;s Knowledge Base">
    <meta property="og:image" content="https://blog.charles7c.top/logo.jpg">
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?53af4b1a12fbe40810ca7ad39f8db9c7";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-03322d68><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c4918e4e></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c4918e4e> Skip to content </a><!--]--><!----><header class="VPNav" data-v-03322d68 data-v-629c70bd><div class="VPNavBar has-sidebar" data-v-629c70bd data-v-1d72176a><div class="container" data-v-1d72176a><div class="title" data-v-1d72176a><div class="VPNavBarTitle has-sidebar" data-v-1d72176a data-v-21327bbd><a class="title" href="/vuepress-blog/" data-v-21327bbd><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vuepress-blog/logo.png" alt data-v-d7b35c78><!--]--><!--[-->Di&#39;s Knowledge Base<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-1d72176a><div class="curtain" data-v-1d72176a></div><div class="content-body" data-v-1d72176a><!--[--><!--]--><div class="VPNavBarSearch search" data-v-1d72176a><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1d72176a data-v-a12edbe3><span id="main-nav-aria-label" class="visually-hidden" data-v-a12edbe3>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-a12edbe3 data-v-f18e2dbf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f18e2dbf><span class="text" data-v-f18e2dbf><!----><span data-v-f18e2dbf>Categories</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f18e2dbf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f18e2dbf><div class="VPMenu" data-v-f18e2dbf data-v-8a7fe2f1><div class="items" data-v-8a7fe2f1><!--[--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/categories/frontend/index.html" data-v-cf652a9b><!--[-->Frontend<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link active" href="/vuepress-blog/categories/backend/index.html" data-v-cf652a9b><!--[-->Backend<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/categories/DevOps/index.html" data-v-cf652a9b><!--[-->DevOps<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/categories/IoT/index.html" data-v-cf652a9b><!--[-->IoT<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a12edbe3 data-v-f18e2dbf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f18e2dbf><span class="text" data-v-f18e2dbf><!----><span data-v-f18e2dbf>Readings</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f18e2dbf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f18e2dbf><div class="VPMenu" data-v-f18e2dbf data-v-8a7fe2f1><div class="items" data-v-8a7fe2f1><!--[--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/courses/MySQL/index.html" data-v-cf652a9b><!--[-->MySQL<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/courses/Orchestrator/index.html" data-v-cf652a9b><!--[-->Orchestrator<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/courses/InterviewQuestions/index.html" data-v-cf652a9b><!--[-->Interview Questions<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8a7fe2f1 data-v-cf652a9b><a class="VPLink link" href="/vuepress-blog/courses/AWS/index.html" data-v-cf652a9b><!--[-->AWS Certification<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vuepress-blog/tags.html" tabindex="0" data-v-a12edbe3 data-v-bc587c79><!--[--><span data-v-bc587c79>Tags</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vuepress-blog/archives.html" tabindex="0" data-v-a12edbe3 data-v-bc587c79><!--[--><span data-v-bc587c79>Archives</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vuepress-blog/about/me.html" tabindex="0" data-v-a12edbe3 data-v-bc587c79><!--[--><span data-v-bc587c79>About Me</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1d72176a data-v-c2c90abb><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-c2c90abb data-v-1502017d data-v-54e1997a><span class="check" data-v-54e1997a><span class="icon" data-v-54e1997a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1502017d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1502017d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1d72176a data-v-804ae77e data-v-f57dd261><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ChocolateAceCream" aria-label="github" target="_blank" rel="noopener" data-v-f57dd261 data-v-19217157><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/di-sheng-4b69b280/" aria-label target="_blank" rel="noopener" data-v-f57dd261 data-v-19217157><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1d72176a data-v-3893c6ae data-v-f18e2dbf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f18e2dbf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-f18e2dbf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-f18e2dbf><div class="VPMenu" data-v-f18e2dbf data-v-8a7fe2f1><!----><!--[--><!--[--><!----><div class="group" data-v-3893c6ae><div class="item appearance" data-v-3893c6ae><p class="label" data-v-3893c6ae>switch light/dark mode</p><div class="appearance-action" data-v-3893c6ae><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-3893c6ae data-v-1502017d data-v-54e1997a><span class="check" data-v-54e1997a><span class="icon" data-v-54e1997a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1502017d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1502017d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-3893c6ae><div class="item social-links" data-v-3893c6ae><div class="VPSocialLinks social-links-list" data-v-3893c6ae data-v-f57dd261><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ChocolateAceCream" aria-label="github" target="_blank" rel="noopener" data-v-f57dd261 data-v-19217157><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/di-sheng-4b69b280/" aria-label target="_blank" rel="noopener" data-v-f57dd261 data-v-19217157><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1d72176a data-v-a6ca9ab6><span class="container" data-v-a6ca9ab6><span class="top" data-v-a6ca9ab6></span><span class="middle" data-v-a6ca9ab6></span><span class="bottom" data-v-a6ca9ab6></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-03322d68 data-v-b9e3214b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b9e3214b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b9e3214b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b9e3214b>Article</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b9e3214b data-v-06057024><button data-v-06057024>Back to Top</button><!----></div></div><aside class="VPSidebar" data-v-03322d68 data-v-802ad7d8><div class="curtain" data-v-802ad7d8></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-802ad7d8><span class="visually-hidden" id="sidebar-aria-label" data-v-802ad7d8> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-802ad7d8><section class="VPSidebarItem level-0 collapsible" data-v-802ad7d8 data-v-95d837d1><div class="item" role="button" tabindex="0" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><h2 class="text" data-v-95d837d1><img class="chinese-zodiac" style="position: static; vertical-align: middle; padding-bottom: 3px;" src="/vuepress-blog/img/svg/chinese-zodiac/dragon.svg" title="龙年" alt="生肖">
            2024 total: 5</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-95d837d1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-95d837d1><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-95d837d1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2024/03/02/go_basics.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-red mr-[6px]" style="font-weight: 550; display: inline-block;">1</div>Go Basics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2024/03/01/go_tricks&amp;conventions.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-orange mr-[6px]" style="font-weight: 550; display: inline-block;">2</div>Go Tricks & Conventions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2024/02/10/Rate_limiter.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>Rate Limiter with Redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2024/02/08/Go_GC.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">4</div>Go GC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2024/02/02/aws_twilio_lambda.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">5</div>Twilio AWS Lambda Func</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-802ad7d8><section class="VPSidebarItem level-0 collapsible has-active" data-v-802ad7d8 data-v-95d837d1><div class="item" role="button" tabindex="0" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><h2 class="text" data-v-95d837d1><img class="chinese-zodiac" style="position: static; vertical-align: middle; padding-bottom: 3px;" src="/vuepress-blog/img/svg/chinese-zodiac/rabbit.svg" title="兔年" alt="生肖">
            2023 total: 7</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-95d837d1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-95d837d1><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-95d837d1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/09/15/Notification_System.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-red mr-[6px]" style="font-weight: 550; display: inline-block;">1</div>Notification system</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/07/12/Gorm_use_cases.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-orange mr-[6px]" style="font-weight: 550; display: inline-block;">2</div>Gorm Use Cases</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/07/04/Fetch_files_&amp;_display.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>Fetch files and display</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/06/27/MinIO_setup.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">4</div>MinIO Image Hosting</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/06/07/Go_embed_pkg.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">5</div>Go embed pkg</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/05/05/docker-2layer-nginx.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">6</div>2Layer Nginx</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-95d837d1 data-v-95d837d1><div class="item" data-v-95d837d1><div class="indicator" data-v-95d837d1></div><a class="VPLink link link" href="/vuepress-blog/categories/backend/2023/04/14/Linux_swap_memory.html" data-v-95d837d1><!--[--><p class="text" data-v-95d837d1><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">7</div>Linux set swap memory</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-03322d68 data-v-2c336b25><div class="VPDoc has-sidebar has-aside" data-v-2c336b25 data-v-53ed897c><!--[--><!--]--><div class="container" data-v-53ed897c><div class="aside" data-v-53ed897c><div class="aside-curtain" data-v-53ed897c></div><div class="aside-container" data-v-53ed897c><div class="aside-content" data-v-53ed897c><div class="VPDocAside" data-v-53ed897c data-v-3d450548><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3d450548 data-v-70b38f01><div class="content" data-v-70b38f01><div class="outline-marker" data-v-70b38f01></div><div class="outline-title" role="heading" aria-level="2" data-v-70b38f01>Table of Content</div><nav aria-labelledby="doc-outline-aria-label" data-v-70b38f01><span class="visually-hidden" id="doc-outline-aria-label" data-v-70b38f01> Table of Contents for current page </span><ul class="root" data-v-70b38f01 data-v-e10534d6><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3d450548></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-53ed897c><div class="content-container" data-v-53ed897c><!--[--><!--]--><!----><main class="main" data-v-53ed897c><div style="position:relative;" class="vp-doc _vuepress-blog_categories_backend_2023_06_27_MinIO_setup" data-v-53ed897c><div><h1 id="deploy-minio-using-docker-to-provide-image-hosting-service" tabindex="-1">Deploy MinIO using Docker to provide image hosting service <span class="VPBadge warning" data-v-b2451d00><!--[-->MinIO<!--]--></span> <a class="header-anchor" href="#deploy-minio-using-docker-to-provide-image-hosting-service" aria-label="Permalink to &quot;Deploy MinIO using Docker to provide image hosting service &lt;Badge text=&quot;MinIO&quot; type=&quot;warning&quot; /&gt;&quot;">​</a></h1><!----><h3 id="purpose" tabindex="-1">Purpose: <a class="header-anchor" href="#purpose" aria-label="Permalink to &quot;Purpose:&quot;">​</a></h3><p>Use MinIO to host images uploading and downloading.</p><h4 id="topology" tabindex="-1">topology <a class="header-anchor" href="#topology" aria-label="Permalink to &quot;topology&quot;">​</a></h4><p><img src="/vuepress-blog/assets/topo.drawio.Q8YJnV2L.png" alt="topology"></p><p>Details:</p><ol><li><p>frontend file uploader send a multipart/form-data https request to backend api</p></li><li><p>backend api received file and upload file to minio server using minio client api</p></li><li><p>after uploading success, minio will return file path as callback, then frontend can serve image using that path</p></li><li><p>I used an extra nginx here because I don&#39;t want to expose my ip+port in the image retrieve url, so that nginx will proxy image retrieve url (<a href="https://second.domain" target="_blank" rel="noreferrer">https://second.domain</a>) to minio server(<a href="http://ip" target="_blank" rel="noreferrer">http://ip</a>:port)</p></li><li><p>deploy MinIO using docker-compose</p></li></ol><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">  minio</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">minio/minio:latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    container_name</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">blog_minio</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;3050:3050&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # service api port, also used for health check</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;3060:3060&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # manage portal port</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    restart</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./data/:/data/</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # mapping of data storage directory</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">./config/:/root/.minio</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # configs path</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">MINIO_ROOT_USER=${MINIO_ROOT_USER}</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> # login name and password from env variable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">server /data --console-address &quot;:3060&quot; --address &quot;:3050&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">    healthcheck</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      test</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;CMD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;curl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;-f&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;http://localhost:3050/minio/health/live&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      interval</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">30s</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">20s</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#8DDB8C;">      retries</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3</span></span></code></pre></div><ol start="2"><li><p>log in the portal and create a bucket <img src="/vuepress-blog/assets/1.drawio.-1ynzNwK.png" alt="pic1"></p></li><li><p>edit bucket policy, make it public and we done minio side config <img src="/vuepress-blog/assets/2.drawio.m71RUnxS.png" alt="pic2"></p></li><li><p>frontend file uploader</p></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> uploadImg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">files</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> forms</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  forms.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, files[</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">])</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> postUploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    forms,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">      &#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;multipart/form-data&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;-----res-----&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, res)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">  callback</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">([res.data.url]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// return url</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><p>then set request header in axio request interceptors</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">apiAxios.interceptors.request.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#F69D50;">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (config[</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    config.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config[</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    config.headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;application/json;charset=UTF-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">})</span></span></code></pre></div><ol start="5"><li>backend api</li></ol><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">//api</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (oa </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">OssApi) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">Uploader</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">gin.Context) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	_, header, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> c.Request.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">FormFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Fail to receive file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		response.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">FailWithMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;Fail to receive file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, c)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	filePath, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> ossService.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">UploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(header) </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// 文件上传后拿到文件路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;fail to add file path to DB!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		response.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">FailWithMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;fail to add file path to DB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, c)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	response.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">OkWithFullDetails</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(response.UploadFileResult{Url: filePath}, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, c)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">//service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (os </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">OssService) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">UploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(header </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">multipart.FileHeader) (path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	oss </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> upload.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">NewOss</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	path, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> oss.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">UploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(header)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">		panic</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> path, err</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">//trigger minio server api</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">Minio) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;">UploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">multipart.FileHeader) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> global.CONFIG.Minio{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3050</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Host: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;blog.easydelivery.ltd&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Username: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxadmin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Password: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Bucket: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxxx&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> //bucket name you just created on portal</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Region: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Https: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> //whether to use https</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	minioClient </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> newClient</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	filename </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> fmt.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Sprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">%d%s</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, time.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Unix</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(), file.Filename)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	f, openError </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> file.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Open</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> openError </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;function file.Open() Filed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(openError))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		return</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, errors.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">New</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;function file.Open() Filed, err:&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> openError.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	defer</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> f.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Close</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">// 创建文件 defer 关闭</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	opts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minio.PutObjectOptions{ContentType: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;application/octet-stream&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	uploadInfo, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minioClient.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">PutObject</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(context.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Background</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(), config.Bucket, filename, f, file.Size, opts)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;function uploader.Upload() Filed&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		return</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, err</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;https://&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config.Host </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;/minio/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config.Bucket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &quot;/&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> uploadInfo.Key</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> url, </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#DCBDFB;"> newClient</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">minio.Client {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> global.CONFIG.Minio{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">3050</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Host: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;blog.easydelivery.ltd&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Username: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxadmin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Password: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxxxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Bucket: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;xxxxx&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> //bucket name you just created on portal</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Region: </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    Https: </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"> //whether to use https</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	minioClient, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minio.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">New</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(config.Host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;:&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">config.Port, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">minio.Options{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		Creds:  credentials.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">NewStaticV4</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(config.Username, config.Password, </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		Secure: config.Https,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;fail to init minio client&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">	// Make a new bucket.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	bucketName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config.Bucket</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	region </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> config.Region</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	ctx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> context.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Background</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minioClient.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">MakeBucket</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(ctx, bucketName, minio.MakeBucketOptions{Region: region})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">		// Check to see if we already own this bucket (which happens if you run this twice)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		exists, errBucketExists </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minioClient.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">BucketExists</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(ctx, bucketName)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		if</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> errBucketExists </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> exists {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Info</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(fmt.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Sprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;We already own </span><span style="--shiki-light:#005CC5;--shiki-dark:#F47067;">%s\n</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, bucketName))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">			return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minioClient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">			global.LOGGER.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&quot;fail to find bucket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">, zap.</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">(err))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">			return</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">		}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> minioClient</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div><ol start="6"><li>nginx config</li></ol><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># load balance</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">upstream</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> blog_minio </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> blog.easydelivery.ltd:3050;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># log config</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">log_format </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> blog_log  </span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;remote_addr: $</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">remote_addr</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                      &#39;remote_user: $</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">remote_user</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                      &#39;X-Forwarded-Proto $</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">scheme</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                      &#39;Host $</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">http_host</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> &#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">                      &#39;http_x_forwarded_for: $</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">http_x_forwarded_for</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">80;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">[::]:80;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  #将 http 重定向 https</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 301</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> https://$server_name$request_uri;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># ssl verification related config</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ssl_session_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> 5m</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#缓存有效期</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ssl_ciphers </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#encrypt algorithm</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ssl_protocols </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">TLSv1 TLSv1.1 TLSv1.2;    </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#安全链接可选的加密协议</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">ssl_prefer_server_ciphers </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">on;   </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#使用服务器端的首选算法</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">#https</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  listen </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">443 ssl;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">        blog.easydelivery.ltd;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  ssl_certificate </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">    /etc/nginx/cert/blog.easydelivery.ltd.pem;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  ssl_certificate_key </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">/etc/nginx/cert/blog.easydelivery.ltd.key;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # $http_host is blog.easydelivery.ltd in this case</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">Host $http_host;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # customized header should always start with x</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # $remote_addr is the client ip where request was sent from</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> X-Real-IP $remote_addr;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # if the request go through multiple proxy, we use $proxy_add_x_forwarded_for to track each proxy ip, so we can obtain the whole chain of proxy path, start from origin client ip from left, followed by each proxy ip request passed through</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # $scheme is https in this case.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # this header only useful if we want to identify the origin request is http or https</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">X-Forwarded-Proto $scheme;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">  # output access_log to logs/blog-web.log, with log format blog_log configured above. Remember to map the log file location if you are using docker containers.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  access_log </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;"> logs/blog-web.log blog_log;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">  location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;"> /minio/ </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F47067;">    proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">http://blog_minio/; </span><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># forward request using http</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    # e.g.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    # https://blog.easydelivery.ltd/minio/bucket-name/image-path.png config.Bucket + &quot;/&quot; + uploadInfo.Key will be forwarded as</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;">    # http://blog.easydelivery.ltd:3050/bucket-name/image-path.png</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ADBAC7;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-53ed897c data-v-f3af8004><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-f3af8004><div class="edit-link" data-v-f3af8004><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/ChocolateAceCream/vuepress-blog/edit/main/docs/categories/backend/2023/06/27/MinIO_setup.md" target="_blank" rel="noreferrer" data-v-f3af8004><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-f3af8004><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Please help me improve this page!<!--]--></a></div><div class="last-updated" data-v-f3af8004><p class="VPLastUpdated" data-v-f3af8004 data-v-a25eb6f3>Last Update: <time datetime="2024-05-03T06:19:34.000Z" data-v-a25eb6f3></time></p></div></div><nav class="prev-next" data-v-f3af8004><div class="pager" data-v-f3af8004><a class="VPLink link pager-link prev" href="/vuepress-blog/categories/backend/2023/07/04/Fetch_files_&amp;_display.html" data-v-f3af8004><!--[--><span class="desc" data-v-f3af8004>Previous</span><span class="title" data-v-f3af8004><div class="text-color-yellow mr-[6px]" style="font-weight: 550; display: inline-block;">3</div>Fetch files and display</span><!--]--></a></div><div class="pager" data-v-f3af8004><a class="VPLink link pager-link next" href="/vuepress-blog/categories/backend/2023/06/07/Go_embed_pkg.html" data-v-f3af8004><!--[--><span class="desc" data-v-f3af8004>Next</span><span class="title" data-v-f3af8004><div class="text-color-gray mr-[6px]" style="font-weight: 550; display: inline-block;">5</div>Go embed pkg</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"categories_frontend_2023_07_13_dayjs_i18n.md\":\"e8nri_2i\",\"categories_frontend_2023_11_01_js_code_blocks.md\":\"-y5tliJ4\",\"categories_devops_2024_03_05_gokit_intro.md\":\"85519VhW\",\"categories_devops_2024_04_20_deploy_elk_with_helm.md\":\"Z8H7ujJr\",\"categories_devops_2023_05_13_github_action.md\":\"twnmYt3x\",\"categories_devops_2024_04_22_k8s_commands.md\":\"uWCaJdBx\",\"categories_backend_2023_04_14_linux_swap_memory.md\":\"b2X8gLLY\",\"categories_devops_2024_04_21_prometheus_gokit_intergration.md\":\"YItwGDA_\",\"categories_devops_index.md\":\"OSPma4_3\",\"categories_frontend_2024_01_02_call_apply_bind.md\":\"I-waXh44\",\"categories_backend_2024_02_10_rate_limiter.md\":\"4ZDugBDj\",\"categories_backend_2023_07_12_gorm_use_cases.md\":\"dSABcZRS\",\"categories_devops_2023_05_12_ssh_config.md\":\"QZaLOCk9\",\"categories_iot_2023_04_06_openwrt_bypass.md\":\"MvFh-gWn\",\"categories_frontend_2023_08_22_pinia_partial_subscribe.md\":\"nFNEDKb4\",\"categories_backend_2024_03_01_go_tricks_conventions.md\":\"FJYSuYgH\",\"categories_backend_2023_06_07_go_embed_pkg.md\":\"YtRxN5O6\",\"categories_backend_2023_05_05_docker-2layer-nginx.md\":\"I1XNMnb2\",\"archives.md\":\"bYFBG0AI\",\"about_me.md\":\"2RwxJXlm\",\"categories_frontend_2023_09_25_bigint.md\":\"3sanWjwO\",\"categories_frontend_2023_10_22_js_file_extensions.md\":\"WSBIsmRJ\",\"categories_backend_2024_02_02_aws_twilio_lambda.md\":\"9vHfIyjW\",\"categories_devops_2024_04_09_consul.md\":\"lqb-fOkm\",\"categories_devops_2024_04_11_ingress.md\":\"GdKQ8Ide\",\"categories_backend_2023_09_15_notification_system.md\":\"4mz-iTuB\",\"categories_frontend_2023_01_02_arrow_and_regular_function.md\":\"bAtXHaVM\",\"categories_devops_2024_03_06_docker-compose_samples.md\":\"T0eKzKt1\",\"categories_backend_2024_02_08_go_gc.md\":\"sB7_qEY2\",\"categories_frontend_2024_03_01_ts_build-in_utility_types.md\":\"b1_QmeuP\",\"categories_devops_2024_04_10_consul_api_gateway.md\":\"ZrjsZeqB\",\"categories_frontend_2024_02_14_requestanimationframe_method.md\":\"xRaFjwnm\",\"categories_frontend_2023_07_12_intergrate_emoji.md\":\"gno6KPG0\",\"categories_devops_2023_04_13_docker_portainer.md\":\"sUkrqtOH\",\"categories_backend_index.md\":\"iD7t7peu\",\"categories_iot_2023_04_07_openwrt_mount_hdd.md\":\"xNPy0S1Y\",\"categories_iot_index.md\":\"vXZVeXgF\",\"categories_backend_2023_06_27_minio_setup.md\":\"2izaNpQ5\",\"categories_frontend_2024_03_04_ts_mapped_types.md\":\"F-mNn9FQ\",\"categories_frontend_index.md\":\"PruGUtKS\",\"courses_aws_01-cloudformation_01-fundamentals.md\":\"pgzf0Rf1\",\"courses_aws_02-ci_cd_tools_02-testing.md\":\"UR9x26I7\",\"courses_aws_02-ci_cd_tools_01-tools.md\":\"3FMD7h5S\",\"courses_aws_index.md\":\"pnBX90TJ\",\"categories_frontend_2024_03_05_ts_modules.md\":\"qLewFrAL\",\"courses_interviewquestions_01-backend_01-redis.md\":\"Ef5XouZY\",\"courses_aws_02-ci_cd_tools_03-codedeploy.md\":\"iAaWUnFu\",\"courses_mysql_01-basic_02-cli_flag_rules.md\":\"UTWkiKsQ\",\"courses_mysql_01-basic_01-cost.md\":\"bY_pdqjU\",\"courses_mysql_01-basic_03-how_join_works.md\":\"QQqfhhI5\",\"courses_mysql_01-basic_05-basic_concepts.md\":\"UwNqNq0o\",\"courses_mysql_01-basic_06-locks.md\":\"8gFInjwS\",\"courses_interviewquestions_index.md\":\"BKhJxiwV\",\"courses_mysql_01-basic_04-how_search_works.md\":\"GcPhzjlG\",\"courses_mysql_02-advanced_04-isolation_level.md\":\"gI2LIzUc\",\"courses_mysql_index.md\":\"v7S4v6nN\",\"courses_mysql_02-advanced_06-transaction.md\":\"ziMdfGyM\",\"courses_mysql_01-basic_07-operations.md\":\"Rjf6OK3q\",\"courses_mysql_02-advanced_03-file_and_page_structure.md\":\"bOnN-U7Q\",\"courses_mysql_02-advanced_05-optimization_with_sql_rewrite.md\":\"ADgboztI\",\"courses_mysql_02-advanced_01-buffer-pool.md\":\"Smj94o3B\",\"courses_orchestrator_02-cube_project_01-project_overview.md\":\"5-NMIpGX\",\"courses_mysql_02-advanced_02-datadir.md\":\"7E-0WiW6\",\"index.md\":\"aL-FiBZn\",\"categories_backend_2023_07_04_fetch_files___display.md\":\"SlIbsCk2\",\"categories_frontend_2023_10_12_vite_optimization.md\":\"aFj0Ey7z\",\"courses_orchestrator_index.md\":\"jYEEYjR_\",\"categories_backend_2024_03_02_go_basics.md\":\"YFxecFOA\",\"categories_iot_2023_04_15_nps_intranet_penetration.md\":\"WvoOJjTz\",\"categories_frontend_2024_01_04_react_basics.md\":\"mdWsGVgd\",\"categories_frontend_2024_03_03_ts_interface.md\":\"ip2cNAoq\",\"categories_frontend_2023_10_13_css_selector.md\":\"t04A6i_B\",\"courses_orchestrator_01-basic_01-basic_of_orchestrator_system.md\":\"yKQSSksm\",\"categories_frontend_2024_03_02_ts_indexed_types.md\":\"DVRJQ4Ea\",\"tags.md\":\"uKiGzj7a\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Di's Knowledge Base\",\"description\":\"Personal Technical Knowledge Base, recording and sharing personal fragmented, structured, and systematic technical knowledge content\",\"base\":\"/vuepress-blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Categories\",\"items\":[{\"text\":\"Frontend\",\"link\":\"/categories/frontend/index\",\"activeMatch\":\"/categories/frontend/\"},{\"text\":\"Backend\",\"link\":\"/categories/backend/index\",\"activeMatch\":\"/categories/backend/\"},{\"text\":\"DevOps\",\"link\":\"/categories/DevOps/index\",\"activeMatch\":\"/categories/DevOps/\"},{\"text\":\"IoT\",\"link\":\"/categories/IoT/index\",\"activeMatch\":\"/categories/IoT/\"}],\"activeMatch\":\"/categories/\"},{\"text\":\"Readings\",\"items\":[{\"text\":\"MySQL\",\"link\":\"/courses/MySQL/index\",\"activeMatch\":\"/courses/MySQL/\"},{\"text\":\"Orchestrator\",\"link\":\"/courses/Orchestrator/index\",\"activeMatch\":\"/courses/Orchestrator/\"},{\"text\":\"Interview Questions\",\"link\":\"/courses/InterviewQuestions/index\",\"activeMatch\":\"/courses/InterviewQuestions/\"},{\"text\":\"AWS Certification\",\"link\":\"/courses/AWS/index\",\"activeMatch\":\"/courses/AWS/\"}],\"activeMatch\":\"/courses/\"},{\"text\":\"Tags\",\"link\":\"/tags\",\"activeMatch\":\"/tags\"},{\"text\":\"Archives\",\"link\":\"/archives\",\"activeMatch\":\"/archives\"},{\"text\":\"About Me\",\"link\":\"/about/me\",\"activeMatch\":\"/about/me\"}],\"sidebar\":{\"/categories/frontend/\":[{\"text\":\"<svg style=\\\"display: inline-block; vertical-align: middle; padding-bottom: 3px;\\\" viewBox=\\\"0 0 1920 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"35\\\" height=\\\"35\\\"><path d=\\\"M367.488 667.904h423.744v47.232H367.488v-47.232zM320.256 204.352h137.28v68.992h-137.28v-68.992zM367.488 754.112h423.744v48H367.488v-48zM693.76 204.352h137.984v68.992H693.76v-68.992zM507.008 204.352h137.28v68.992h-137.28v-68.992z\\\" p-id=\\\"10749\\\" fill=\\\"#d81e06\\\"></path><path d=\\\"M1344 192 256 192C185.6 192 128 249.6 128 320l0 448c0 70.4 57.6 128 128 128l1088 0c70.4 0 128-57.6 128-128L1472 320C1472 249.6 1414.4 192 1344 192zM576 736C576 753.92 561.92 768 544 768S512 753.92 512 736L512 576 320 576l0 160C320 753.92 305.92 768 288 768 270.08 768 256 753.92 256 736l0-384C256 334.08 270.08 320 288 320 305.92 320 320 334.08 320 352L320 512l192 0L512 352C512 334.08 526.08 320 544 320S576 334.08 576 352L576 736zM960 640c0 70.4-57.6 128-128 128l-64 0c-70.4 0-128-57.6-128-128L640 448c0-70.4 57.6-128 128-128l64 0c70.4 0 128 57.6 128 128L960 640zM1312 384 1216 384l0 352c0 17.92-14.08 32-32 32S1152 753.92 1152 736L1152 384l-96 0C1038.08 384 1024 369.92 1024 352 1024 334.08 1038.08 320 1056 320l256 0C1329.92 320 1344 334.08 1344 352 1344 369.92 1329.92 384 1312 384zM832 384l-64 0c-35.2 0-64 28.8-64 64l0 192c0 35.2 28.8 64 64 64l64 0c35.2 0 64-28.8 64-64L896 448C896 412.8 867.2 384 832 384z\\\" p-id=\\\"1492\\\" fill=\\\"#d81e06\\\"></path><path d=\\\"M367.488 495.36h423.744v47.232H367.488V495.36zM367.488 581.632h423.744v47.232H367.488v-47.232z\\\" p-id=\\\"10751\\\" fill=\\\"#d81e06\\\"></path></svg>\\n            Top Articles: 1\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>JS Code Blocks\",\"link\":\"/categories/frontend/2023/11/01/JS_Code_Blocks\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/dragon.svg\\\" title=\\\"龙年\\\" alt=\\\"生肖\\\">\\n            2024 total: 8\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>TS Module\",\"link\":\"/categories/frontend/2024/03/05/TS_modules\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>TS Mapped Types\",\"link\":\"/categories/frontend/2024/03/04/TS_mapped_types\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>TS Interface\",\"link\":\"/categories/frontend/2024/03/03/TS_Interface\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>TS Utility Types\",\"link\":\"/categories/frontend/2024/03/02/TS_indexed_types\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>TS Utility Types\",\"link\":\"/categories/frontend/2024/03/01/TS_Build-in_utility_types\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>requestAnimationFrame()\",\"link\":\"/categories/frontend/2024/02/14/requestAnimationFrame_method\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>React Basics\",\"link\":\"/categories/frontend/2024/01/04/React_Basics\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>call, apply & bind\",\"link\":\"/categories/frontend/2024/01/02/call_apply_bind\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/rabbit.svg\\\" title=\\\"兔年\\\" alt=\\\"生肖\\\">\\n            2023 total: 9\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>JS Code Blocks\",\"link\":\"/categories/frontend/2023/11/01/JS_Code_Blocks\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>JS File extensions\",\"link\":\"/categories/frontend/2023/10/22/JS_file_extensions\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>CSS Selector\",\"link\":\"/categories/frontend/2023/10/13/CSS_Selector\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>Vite Optimization\",\"link\":\"/categories/frontend/2023/10/12/vite_optimization\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>BigInt\",\"link\":\"/categories/frontend/2023/09/25/bigInt\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>Pinia Partial Subscribe\",\"link\":\"/categories/frontend/2023/08/22/pinia_partial_subscribe\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>Dayjs i18n\",\"link\":\"/categories/frontend/2023/07/13/Dayjs_i18n\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>Integrate emoji-mart-vue-fast in elementPlus `<el-input>`\",\"link\":\"/categories/frontend/2023/07/12/Intergrate_emoji\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">9</div>Arrow Functions & Regular Functions\",\"link\":\"/categories/frontend/2023/01/02/arrow_and_regular_function\"}],\"collapsed\":true}],\"/categories/backend/\":[{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/dragon.svg\\\" title=\\\"龙年\\\" alt=\\\"生肖\\\">\\n            2024 total: 5\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Go Basics\",\"link\":\"/categories/backend/2024/03/02/go_basics\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>Go Tricks & Conventions\",\"link\":\"/categories/backend/2024/03/01/go_tricks&conventions\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>Rate Limiter with Redis\",\"link\":\"/categories/backend/2024/02/10/Rate_limiter\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>Go GC\",\"link\":\"/categories/backend/2024/02/08/Go_GC\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>Twilio AWS Lambda Func\",\"link\":\"/categories/backend/2024/02/02/aws_twilio_lambda\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/rabbit.svg\\\" title=\\\"兔年\\\" alt=\\\"生肖\\\">\\n            2023 total: 7\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Notification system\",\"link\":\"/categories/backend/2023/09/15/Notification_System\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>Gorm Use Cases\",\"link\":\"/categories/backend/2023/07/12/Gorm_use_cases\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>Fetch files and display\",\"link\":\"/categories/backend/2023/07/04/Fetch_files_&_display\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>MinIO Image Hosting\",\"link\":\"/categories/backend/2023/06/27/MinIO_setup\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>Go embed pkg\",\"link\":\"/categories/backend/2023/06/07/Go_embed_pkg\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>2Layer Nginx\",\"link\":\"/categories/backend/2023/05/05/docker-2layer-nginx\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>Linux set swap memory\",\"link\":\"/categories/backend/2023/04/14/Linux_swap_memory\"}],\"collapsed\":true}],\"/categories/DevOps/\":[{\"text\":\"<svg style=\\\"display: inline-block; vertical-align: middle; padding-bottom: 3px;\\\" viewBox=\\\"0 0 1920 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"35\\\" height=\\\"35\\\"><path d=\\\"M367.488 667.904h423.744v47.232H367.488v-47.232zM320.256 204.352h137.28v68.992h-137.28v-68.992zM367.488 754.112h423.744v48H367.488v-48zM693.76 204.352h137.984v68.992H693.76v-68.992zM507.008 204.352h137.28v68.992h-137.28v-68.992z\\\" p-id=\\\"10749\\\" fill=\\\"#d81e06\\\"></path><path d=\\\"M1344 192 256 192C185.6 192 128 249.6 128 320l0 448c0 70.4 57.6 128 128 128l1088 0c70.4 0 128-57.6 128-128L1472 320C1472 249.6 1414.4 192 1344 192zM576 736C576 753.92 561.92 768 544 768S512 753.92 512 736L512 576 320 576l0 160C320 753.92 305.92 768 288 768 270.08 768 256 753.92 256 736l0-384C256 334.08 270.08 320 288 320 305.92 320 320 334.08 320 352L320 512l192 0L512 352C512 334.08 526.08 320 544 320S576 334.08 576 352L576 736zM960 640c0 70.4-57.6 128-128 128l-64 0c-70.4 0-128-57.6-128-128L640 448c0-70.4 57.6-128 128-128l64 0c70.4 0 128 57.6 128 128L960 640zM1312 384 1216 384l0 352c0 17.92-14.08 32-32 32S1152 753.92 1152 736L1152 384l-96 0C1038.08 384 1024 369.92 1024 352 1024 334.08 1038.08 320 1056 320l256 0C1329.92 320 1344 334.08 1344 352 1344 369.92 1329.92 384 1312 384zM832 384l-64 0c-35.2 0-64 28.8-64 64l0 192c0 35.2 28.8 64 64 64l64 0c35.2 0 64-28.8 64-64L896 448C896 412.8 867.2 384 832 384z\\\" p-id=\\\"1492\\\" fill=\\\"#d81e06\\\"></path><path d=\\\"M367.488 495.36h423.744v47.232H367.488V495.36zM367.488 581.632h423.744v47.232H367.488v-47.232z\\\" p-id=\\\"10751\\\" fill=\\\"#d81e06\\\"></path></svg>\\n            Top Articles: 2\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Kubernetes Common operations and commands\",\"link\":\"/categories/DevOps/2024/04/22/K8S_commands\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>GoKit Intro\",\"link\":\"/categories/DevOps/2024/03/05/GoKit_Intro\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/dragon.svg\\\" title=\\\"龙年\\\" alt=\\\"生肖\\\">\\n            2024 total: 8\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Kubernetes Common operations and commands\",\"link\":\"/categories/DevOps/2024/04/22/K8S_commands\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>GoKit Prometheus Integration\",\"link\":\"/categories/DevOps/2024/04/21/Prometheus_gokit_intergration\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>Deploy ELK with helm\",\"link\":\"/categories/DevOps/2024/04/20/Deploy_ELK_with_helm\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>Ingress Intro\",\"link\":\"/categories/DevOps/2024/04/11/Ingress\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>Consul API Gateway\",\"link\":\"/categories/DevOps/2024/04/10/consul_api_gateway\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>Consul Intro\",\"link\":\"/categories/DevOps/2024/04/09/Consul\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>docker-compose sample files\",\"link\":\"/categories/DevOps/2024/03/06/Docker-compose_samples\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">8</div>GoKit Intro\",\"link\":\"/categories/DevOps/2024/03/05/GoKit_Intro\"}],\"collapsed\":false},{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/rabbit.svg\\\" title=\\\"兔年\\\" alt=\\\"生肖\\\">\\n            2023 total: 3\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Github Action\",\"link\":\"/categories/DevOps/2023/05/13/github_action\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>SSH config\",\"link\":\"/categories/DevOps/2023/05/12/ssh_config\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>Portainer TLS connection\",\"link\":\"/categories/DevOps/2023/04/13/Docker_Portainer\"}],\"collapsed\":true}],\"/categories/IoT/\":[{\"text\":\"<img class=\\\"chinese-zodiac\\\" style=\\\"position: static; vertical-align: middle; padding-bottom: 3px;\\\" src=\\\"/vuepress-blog/img/svg/chinese-zodiac/rabbit.svg\\\" title=\\\"兔年\\\" alt=\\\"生肖\\\">\\n            2023 total: 3\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>NPS Intranet Penetration\",\"link\":\"/categories/IoT/2023/04/15/nps_intranet_penetration\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>OpenWrt Mount HDD\",\"link\":\"/categories/IoT/2023/04/07/OpenWrt_Mount_HDD\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>OpenWrt bypass\",\"link\":\"/categories/IoT/2023/04/06/OpenWrt_bypass\"}],\"collapsed\":false}],\"/courses/MySQL/\":[{\"text\":\"Basic (7)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Operation Cost\",\"link\":\"/courses/MySQL/01-Basic/01-cost\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>CLI flag rules\",\"link\":\"/courses/MySQL/01-Basic/02-cli_flag_rules\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>How join works\",\"link\":\"/courses/MySQL/01-Basic/03-How_join_works\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>How search works\",\"link\":\"/courses/MySQL/01-Basic/04-How_search_works\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>Basic Concepts\",\"link\":\"/courses/MySQL/01-Basic/05-Basic_concepts\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>Locks\",\"link\":\"/courses/MySQL/01-Basic/06-Locks\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">7</div>MySQL operations\",\"link\":\"/courses/MySQL/01-Basic/07-operations\"}],\"collapsed\":false},{\"text\":\"Advanced (6)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>InnoDB Buffer Pool\",\"link\":\"/courses/MySQL/02-Advanced/01-buffer-pool\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>Datadir\",\"link\":\"/courses/MySQL/02-Advanced/02-Datadir\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>File And Page Basics\",\"link\":\"/courses/MySQL/02-Advanced/03-File_And_Page_Structure\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">4</div>Isolation Level\",\"link\":\"/courses/MySQL/02-Advanced/04-Isolation_level\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">5</div>Optimization with sql re-write\",\"link\":\"/courses/MySQL/02-Advanced/05-Optimization_with_SQL_rewrite\"},{\"text\":\"<div class=\\\"text-color-gray mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">6</div>Transaction\",\"link\":\"/courses/MySQL/02-Advanced/06-Transaction\"}],\"collapsed\":false}],\"/courses/Orchestrator/\":[{\"text\":\"Basic (1)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Basic of Orchestration System\",\"link\":\"/courses/Orchestrator/01-Basic/01-Basic_of_Orchestrator_System\"}],\"collapsed\":true},{\"text\":\"Cube_Project (1)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Cube Project Overview\",\"link\":\"/courses/Orchestrator/02-Cube_Project/01-Project_Overview\"}],\"collapsed\":true}],\"/courses/InterviewQuestions/\":[{\"text\":\"Backend (1)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>Redis\",\"link\":\"/courses/InterviewQuestions/01-Backend/01-Redis\"}],\"collapsed\":true}],\"/courses/AWS/\":[{\"text\":\"CloudFormation (1)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>AWS CloudFormation Fundamentals\",\"link\":\"/courses/AWS/01-CloudFormation/01-Fundamentals\"}],\"collapsed\":true},{\"text\":\"CI_CD_Tools (3)\",\"items\":[{\"text\":\"<div class=\\\"text-color-red mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">1</div>AWS CI/CD Pipeline Tools\",\"link\":\"/courses/AWS/02-CI_CD_Tools/01-tools\"},{\"text\":\"<div class=\\\"text-color-orange mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">2</div>Testing\",\"link\":\"/courses/AWS/02-CI_CD_Tools/02-testing\"},{\"text\":\"<div class=\\\"text-color-yellow mr-[6px]\\\" style=\\\"font-weight: 550; display: inline-block;\\\">3</div>CodeDeploy\",\"link\":\"/courses/AWS/02-CI_CD_Tools/03-CodeDeploy\"}],\"collapsed\":false}]},\"logo\":\"/logo.png\",\"outline\":{\"level\":\"deep\",\"label\":\"Table of Content\"},\"darkModeSwitchLabel\":\"switch light/dark mode\",\"sidebarMenuLabel\":\"Article\",\"returnToTopLabel\":\"Back to Top\",\"lastUpdatedText\":\"Last Update\",\"docFooter\":{\"prev\":\"Previous\",\"next\":\"Next\"},\"editLink\":{\"pattern\":\"https://github.com/ChocolateAceCream/vuepress-blog/edit/main/docs/:path\",\"text\":\"Please help me improve this page!\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"DBZ0G9HBUY\",\"apiKey\":\"00cef480a543003d05d9808110ea5f65\",\"indexName\":\"charles7c\",\"locales\":{\"root\":{\"placeholder\":\"Search\",\"translations\":{\"button\":{\"buttonText\":\"Search\",\"buttonAriaLabel\":\"Search\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"Clear search query\",\"resetButtonAriaLabel\":\"Clear search query\",\"cancelButtonText\":\"Cancel\",\"cancelButtonAriaLabel\":\"Cancel\"},\"startScreen\":{\"recentSearchesTitle\":\"Search History\",\"noRecentSearchesText\":\"No recent searches\",\"saveRecentSearchButtonTitle\":\"Save recent search\",\"removeRecentSearchButtonTitle\":\"Remove recent search\",\"favoriteSearchesTitle\":\"Favorites\",\"removeFavoriteSearchButtonTitle\":\"Remove from favorite\"},\"errorScreen\":{\"titleText\":\"Error\",\"helpText\":\"Please try again later\"},\"footer\":{\"selectText\":\"Select\",\"navigateText\":\"Switch\",\"closeText\":\"Close\",\"searchByText\":\"Provider\"},\"noResultsScreen\":{\"noResultsText\":\"No results found\",\"suggestedQueryText\":\"Did you mean\",\"reportMissingResultsText\":\"Report missing results\",\"reportMissingResultsLinkText\":\"here\"}}}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ChocolateAceCream\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z\\\"/></svg>\"},\"link\":\"https://www.linkedin.com/in/di-sheng-4b69b280/\"}],\"articleMetadataConfig\":{\"author\":\"Di\",\"authorLink\":\"/about/me\",\"showViewCount\":false},\"copyrightConfig\":{\"license\":\"CC BY-SA 4.0 DEED\",\"licenseLink\":\"http://creativecommons.org/licenses/by-sa/4.0/\"},\"commentConfig\":{\"type\":\"gitalk\",\"showComment\":false},\"footerConfig\":{\"showFooter\":false,\"icpRecordCode\":\"津ICP备2022005864号-2\",\"publicSecurityRecordCode\":\"津公网安备12011202000677号\",\"copyright\":\"Copyright © 2019-2024 Charles7c\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>