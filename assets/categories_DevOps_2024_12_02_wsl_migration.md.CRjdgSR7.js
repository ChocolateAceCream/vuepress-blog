import{_ as d}from"./chunks/ArticleMetadata.VNjEmVR6.js";import{_ as c,m as t,a as k,e as o,x as e,u as n,B as u,ah as g,o as l,p as m,q as w}from"./chunks/framework.BuAcqOzq.js";import"./chunks/theme.BrlMw622.js";const U=JSON.parse('{"title":"WSL Migration","description":"","frontmatter":{"title":"WSL Migration","author":"ChocolateAceCream","date":"2024/12/02 9:50","isTop":false,"categories":["DevOps"],"tags":["Git","WSL"]},"headers":[],"relativePath":"categories/DevOps/2024/12/02/wsl_migration.md","filePath":"categories/DevOps/2024/12/02/wsl_migration.md","lastUpdated":1733160057000}'),y={name:"categories/DevOps/2024/12/02/wsl_migration.md"},x={id:"wsl-migration",tabindex:"-1"},_=o("a",{class:"header-anchor",href:"#wsl-migration","aria-label":'Permalink to "WSL Migration  <Badge text="WSL" type="warning" />"'},"​",-1),b=g(`<p>I have been using wsl for years, and that&#39;s why I&#39;m not a windows hater anymore. They actually did great on making linux available on windows.</p><h2 id="why" tabindex="-1">WHY? <a class="header-anchor" href="#why" aria-label="Permalink to &quot;WHY?&quot;">​</a></h2><p>Years ago, like many other apps, wsl can only be installed on the system drive(that&#39;s why C drive is so easy to fullfil). Today when I backup my wsl, I found out its size is reaching 60GB! OMG! and my C drive is only have 50GB space left. So I dig a little about how to migrate wsl to other drive and now microsoft enable wsl to be installed on any drive. So, let&#39;s do it!</p><h2 id="how" tabindex="-1">HOW? <a class="header-anchor" href="#how" aria-label="Permalink to &quot;HOW?&quot;">​</a></h2><p>The whole process is not that complicated, just backup and then import the backup, you done!</p><ol><li>list wsl dist <code>wsl -l</code></li><li>check wsl version <code>wsl --version</code></li><li>start/stop wsl</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark-dimmed vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># start wsl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --distribution</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Ubuntu-22.xx.xx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Ubuntu-22.xx.xx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># check running wsl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -l</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --running</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># stop wsl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Ubuntu-22.xx.xx</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#768390;"># or</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#F69D50;">wsl</span><span style="--shiki-light:#005CC5;--shiki-dark:#6CB6FF;"> --terminate</span><span style="--shiki-light:#032F62;--shiki-dark:#96D0FF;"> Ubuntu-22.xx.xx</span></span></code></pre></div><ol start="4"><li><p>export current wsl distribution(must stop it first) <code>wsl --export Ubuntu-22.xx.xx c:\\temp\\Ubuntu.22.xx.xx.tar</code></p></li><li><p>delete old dist (optional) <code>wsl --unregister Ubuntu-22.xx.xx</code></p></li><li><p>import backups into new drive e:\\wsl\\ubuntu <code>wsl --import Ubuntu-22.04-20241201 e:\\wsl\\ubuntu f:\\wsl-backup\\Ubuntu-22.04.tar --version 2</code></p></li><li><p>set default wsl <code>wsl --set-default Ubuntu-22.xx.xx</code></p></li></ol>`,8);function C(s,F,f,v,D,B){const r=t("Badge"),p=d,h=t("ClientOnly");return l(),k("div",null,[o("h1",x,[e("WSL Migration "),n(r,{text:"WSL",type:"warning"}),e(),_]),n(h,null,{default:u(()=>{var a,i;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((i=s.$frontmatter)==null?void 0:i.showArticleMetadata)??!0)?(l(),m(p,{key:0,article:s.$frontmatter},null,8,["article"])):w("",!0)]}),_:1}),b])}const W=c(y,[["render",C]]);export{U as __pageData,W as default};
